defaultTasks 'default_run'

println "This is the config phase"

tasks.register('test_one'){
    println 'Print this first'
    doLast{
        println 'Print this last'
    }
}

tasks.register('test_two'){
    doFirst{
        println 'Second test first block'
    }
    doLast{
        println 'Second test last block'
    }
}

tasks.register('default_run'){
    doFirst{
        println "Print this by defalut"
    }
}

test_one.dependsOn test_two